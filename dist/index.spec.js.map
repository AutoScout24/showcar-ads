{"version":3,"names":[],"mappings":"","sources":["test/index.spec.js"],"sourcesContent":["function commonjsRequire(){throw new Error(\"Dynamic requires are not currently supported by rollup-plugin-commonjs\")}function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}function isObject$1(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}function getRawTag$1(e){var t=hasOwnProperty.call(e,symToStringTag$1),n=e[symToStringTag$1];try{e[symToStringTag$1]=void 0;var i=!0}catch(e){}var o=nativeObjectToString.call(e);return i&&(t?e[symToStringTag$1]=n:delete e[symToStringTag$1]),o}function objectToString$1(e){return nativeObjectToString$1.call(e)}function baseGetTag$1(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}function isObjectLike$1(e){return null!=e&&\"object\"==typeof e}function isSymbol$1(e){return\"symbol\"==typeof e||isObjectLike(e)&&baseGetTag(e)==symbolTag}function toNumber$1(e){if(\"number\"==typeof e)return e;if(isSymbol(e))return NAN;if(isObject$2(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=isObject$2(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(reTrim,\"\");var n=reIsBinary.test(e);return n||reIsOctal.test(e)?freeParseInt(e.slice(2),n?2:8):reIsBadHex.test(e)?NAN:+e}function debounce(e,t,n){function i(t){var n=p,i=f;return p=f=void 0,y=t,g=e.apply(i,n)}function o(e){return y=e,m=setTimeout(s,t),v?i(e):g}function r(e){var n=e-b,i=e-y,o=t-n;return x?nativeMin(o,h-i):o}function a(e){var n=e-b,i=e-y;return void 0===b||n>=t||n<0||x&&i>=h}function s(){var e=now();if(a(e))return c(e);m=setTimeout(s,r(e))}function c(e){return m=void 0,w&&p?i(e):(p=f=void 0,g)}function u(){void 0!==m&&clearTimeout(m),y=0,p=b=f=m=void 0}function l(){return void 0===m?g:c(now())}function d(){var e=now(),n=a(e);if(p=arguments,f=this,b=e,n){if(void 0===m)return o(b);if(x)return m=setTimeout(s,t),i(b)}return void 0===m&&(m=setTimeout(s,t)),g}var p,f,h,g,m,b,y=0,v=!1,x=!1,w=!0;if(\"function\"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);return t=toNumber(t)||0,isObject(n)&&(v=!!n.leading,x=\"maxWait\"in n,h=x?nativeMax(toNumber(n.maxWait)||0,t):h,w=\"trailing\"in n?!!n.trailing:w),d.cancel=u,d.flush=l,d}function head(e){return e&&e.length?e[0]:void 0}function last(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function retrieve(e){try{var t,n=\"kx\"+e;return window.localStorage?window.localStorage[n]||\"\":navigator.cookieEnabled?(t=document.cookie.match(n+\"=([^;]*)\"))&&window.unescape(t[1])||\"\":\"\"}catch(e){return\"\"}}function truncateSegmentsToMaxChars(e,t){for(var n=\"%252C\".length,i=[],o=0,r=0;r<e.length;r++){var a=e[r].length+n;if(!(o+a<=t))break;i.push(e[r]),o+=a}return i}var commonjsGlobal=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{},chaiAsPromised=createCommonjsModule(function(e,t){!function(){\"use strict\";function n(e,t){function i(e){return\"function\"!=typeof e.catch&&\"function\"==typeof e.always&&\"function\"==typeof e.done&&\"function\"==typeof e.fail&&\"function\"==typeof e.pipe&&\"function\"==typeof e.progress&&\"function\"==typeof e.state}function o(e){if(\"function\"!=typeof e._obj.then)throw new TypeError(t.inspect(e._obj)+\" is not a thenable.\");if(i(e._obj))throw new TypeError(\"Chai as Promised is incompatible with thenables of jQuery<3.0.0, sorry! Please upgrade jQuery or use another Promises/A+ compatible library (see http://promisesaplus.com/).\")}function r(e,n){t.addMethod(p.prototype,e,function(){return o(this),n.apply(this,arguments)})}function a(e,n){t.addProperty(p.prototype,e,function(){return o(this),n.apply(this,arguments)})}function s(e,t){e.then(function(){t()},t)}function c(e,t,n){e.assert(!0,null,t,n.expected,n.actual)}function u(e,t,n){e.assert(!1,t,null,n.expected,n.actual)}function l(e){return\"function\"==typeof e.then?e:e._obj}function d(e,i,o){if(!t.flag(i,\"eventually\"))return e.apply(i,o);var r=l(i).then(function(e){return i._obj=e,t.flag(i,\"eventually\",!1),o?n.transformAsserterArgs(o):o}).then(function(t){return e.apply(i,t),i._obj});n.transferPromiseness(i,r)}var p=e.Assertion,f=e.assert,h=Object.getOwnPropertyNames(p.prototype),g={};h.forEach(function(e){g[e]=Object.getOwnPropertyDescriptor(p.prototype,e)}),a(\"fulfilled\",function(){var e=this,t=l(e).then(function(t){return e._obj=t,c(e,\"expected promise not to be fulfilled but it was fulfilled with #{act}\",{actual:t}),t},function(t){u(e,\"expected promise to be fulfilled but it was rejected with #{act}\",{actual:t})});n.transferPromiseness(e,t)}),a(\"rejected\",function(){var e=this,t=l(e).then(function(t){return e._obj=t,u(e,\"expected promise to be rejected but it was fulfilled with #{act}\",{actual:t}),t},function(t){return c(e,\"expected promise not to be rejected but it was rejected with #{act}\",{actual:t}),t});n.transferPromiseness(e,t)}),r(\"rejectedWith\",function(e,i){var o=null,r=null;e instanceof RegExp||\"string\"==typeof e?(i=e,e=null):e&&e instanceof Error?(o=e,e=null,i=null):\"function\"==typeof e?r=(new e).name:e=null;var a=this,s=l(a).then(function(t){var n=null,s=null;if(e)n=\"expected promise to be rejected with #{exp} but it was fulfilled with #{act}\",s=r;else if(i){var c=i instanceof RegExp?\"matching\":\"including\";n=\"expected promise to be rejected with an error \"+c+\" #{exp} but it was fulfilled with #{act}\",s=i}else o&&(n=\"expected promise to be rejected with #{exp} but it was fulfilled with #{act}\",s=o);a._obj=t,u(a,n,{expected:s,actual:t})},function(n){e&&a.assert(n instanceof e,\"expected promise to be rejected with #{exp} but it was rejected with #{act}\",\"expected promise not to be rejected with #{exp} but it was rejected with #{act}\",r,n);var s=\"object\"===t.type(n)&&\"message\"in n?n.message:\"\"+n;i&&null!==s&&void 0!==s&&(i instanceof RegExp&&a.assert(i.test(s),\"expected promise to be rejected with an error matching #{exp} but got #{act}\",\"expected promise not to be rejected with an error matching #{exp}\",i,s),\"string\"==typeof i&&a.assert(-1!==s.indexOf(i),\"expected promise to be rejected with an error including #{exp} but got #{act}\",\"expected promise not to be rejected with an error including #{exp}\",i,s)),o&&a.assert(n===o,\"expected promise to be rejected with #{exp} but it was rejected with #{act}\",\"expected promise not to be rejected with #{exp}\",o,n)});n.transferPromiseness(a,s)}),a(\"eventually\",function(){t.flag(this,\"eventually\",!0)}),r(\"notify\",function(e){s(l(this),e)}),r(\"become\",function(e,t){return this.eventually.deep.equal(e,t)}),h.filter(function(e){return\"assert\"!==e&&\"function\"==typeof g[e].value}).forEach(function(e){p.overwriteMethod(e,function(e){return function(){d(e,this,arguments)}})}),h.filter(function(e){return\"_obj\"!==e&&\"function\"==typeof g[e].get}).forEach(function(e){p.prototype.__methods.hasOwnProperty(e)?p.overwriteChainableMethod(e,function(e){return function(){d(e,this,arguments)}},function(e){return function(){d(e,this)}}):p.overwriteProperty(e,function(e){return function(){d(e,this)}})});var m=Object.getOwnPropertyNames(f).filter(function(e){return\"function\"==typeof f[e]});f.isFulfilled=function(e,t){return new p(e,t).to.be.fulfilled},f.isRejected=function(e,t,n){\"string\"==typeof t&&(n=t,t=void 0);var i=new p(e,n);return void 0!==t?i.to.be.rejectedWith(t):i.to.be.rejected},f.becomes=function(e,t,n){return f.eventually.deepEqual(e,t,n)},f.doesNotBecome=function(e,t,n){return f.eventually.notDeepEqual(e,t,n)},f.eventually={},m.forEach(function(n){f.eventually[n]=function(i){var o,r=Array.prototype.slice.call(arguments,1),a=arguments[f[n].length-1];\"string\"==typeof a&&(o=function(n){throw new e.AssertionError(a+\"\\n\\nOriginal reason: \"+t.inspect(n))});var c=i.then(function(e){return f[n].apply(f,[e].concat(r))},o);return c.notify=function(e){s(c,e)},c}})}\"function\"==typeof commonjsRequire&&\"object\"==typeof t&&\"object\"==typeof e?e.exports=n:\"function\"==typeof define&&define.amd?define(function(){return n}):(chai.use(n),self.chaiAsPromised=n),n.transferPromiseness=function(e,t){e.then=t.then.bind(t)},n.transformAsserterArgs=function(e){return e}}()}),waitUntilAdsCanBeLoaded=function(){return new Promise(function(e,t){var n=window.location,i=document.cookie,o=n.href.indexOf(\"ads-off=true\")>=0,r=i.indexOf(\"CustomerType=D\")>=0,a=i.indexOf(\"testrun=true\")>=0,s=\"www.autoscout24.de\"==n.host&&n.href.indexOf(\"/angebote/\")>=0;if(o||r&&!s||a)return void t();!function(){var e=n.hostname,t=/\\.(nl|it)$/.test(e)||n.hash.indexOf(\"cookie-consent-needed\")>=0,o=i.indexOf(\"cookieConsent=1;\")>=0;return t&&!o}()?e():window.addEventListener(\"cookie-consent-given\",e)})};chai.use(chaiAsPromised),describe(\"Loading ads\",function(){afterEach(function(){document.cookie=\"User=;expires=0\",window.location.hash=\"\"}),it(\"Do not load ads when ads=off in URL\",function(){return window.location.hash=\"ads-off=true\",waitUntilAdsCanBeLoaded().should.be.rejected}),it(\"Do not load ads when user is a dealer\",function(){return document.cookie=\"User=CustomerType=D;\",waitUntilAdsCanBeLoaded().should.be.rejected}),it(\"Wait until cookie consent is given\",function(){return window.location.hash=\"cookie-consent-needed\",setTimeout(function(){return window.dispatchEvent(new Event(\"cookie-consent-given\",{bubbles:!0}))}),waitUntilAdsCanBeLoaded().should.eventually.be.fulfilled})});var uuid=function(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return(\"x\"==e?t:3&t|8).toString(16)})},getAttribute=function(e,t,n){return e&&e.getAttribute&&e.getAttribute(t)||n},hasAttribute=function(e,t){return e&&e.hasAttribute(t)},setAttribute=function(e,t,n){return e&&e.setAttribute(t,n)},removeAttribute=function(e,t){return e&&e.removeAttribute(t)},isElementInViewport=function(e,t){if(void 0===t&&(t=0),!e||!document.body.contains(e))return!1;var n=e.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;return n.bottom>0-t&&n.top<i+t&&n.right>0-t&&n.left<o+t},addCss=function(e){var t=document.createElement(\"style\");t.innerHTML=e,document.querySelector(\"head\").appendChild(t)},isObject_1=isObject$1,freeGlobal$1=\"object\"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=\"object\"==typeof self&&self&&self.Object===Object&&self,root$1=freeGlobal||freeSelf||Function(\"return this\")(),_root=root$1,root=_root,now$1=function(){return root.Date.now()},now_1=now$1,root$2=_root,Symbol$2=root$2.Symbol,_Symbol=Symbol$2,Symbol$3=_Symbol,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag$1=Symbol$3?Symbol$3.toStringTag:void 0,_getRawTag=getRawTag$1,objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString,_objectToString=objectToString$1,Symbol$1=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag=\"[object Null]\",undefinedTag=\"[object Undefined]\",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0,_baseGetTag=baseGetTag$1,isObjectLike_1=isObjectLike$1,baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,symbolTag=\"[object Symbol]\",isSymbol_1=isSymbol$1,isObject$2=isObject_1,isSymbol=isSymbol_1,NAN=NaN,reTrim=/^\\s+|\\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,toNumber_1=toNumber$1,isObject=isObject_1,now=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT=\"Expected a function\",nativeMax=Math.max,nativeMin=Math.min,debounce_1$1=debounce,gt$1=function(){return window.googletag||(window.googletag={cmd:[]})},tld=location.hostname.split(\".\").pop(),isDE=\"de\"===tld,isAT=\"at\"===tld,isIT=\"it\"===tld,isNL=\"nl\"===tld,isCorrectCountry=isDE||isAT||isIT||isNL,isFeatureFlagOn=location.hash.indexOf(\"ads-use-aps\")>=0,isEnabled=function(){return isCorrectCountry||isFeatureFlagOn},registerHBLite=function(){!function(e){function t(){t=function(){},I.Symbol||(I.Symbol=n)}function n(e){return\"jscomp_symbol_\"+(e||\"\")+R++}function i(){t();var e=I.Symbol.iterator;e||(e=I.Symbol.iterator=I.Symbol(\"iterator\")),\"function\"!=typeof Array.prototype[e]&&z(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return o(this)}}),i=function(){}}function o(e){var t=0;return r(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})}function r(e){return i(),e={next:e},e[I.Symbol.iterator]=function(){return this},e}function a(e){i();var t=e[Symbol.iterator];return t?t.call(e):o(e)}function s(e,t){if(t){for(var n=I,i=e.split(\".\"),o=0;o<i.length-1;o++){var r=i[o];r in n||(n[r]={}),n=n[r]}i=i[i.length-1],o=n[i],r=t(o),r!=o&&null!=r&&z(n,i,{configurable:!0,writable:!0,value:r})}}function c(e,t,n){e instanceof String&&(e=String(e));for(var i=e.length,o=0;o<i;o++){var r=e[o];if(t.call(n,r,o,e))return{u:o,G:r}}return{u:-1,G:void 0}}function u(e){return e=l(e),Object.keys(e).map(function(t){return t+\"=\"+e[t]}).join(\"&\")}function l(e){var t,n={},i={};for(t in e)i.key=t,e.hasOwnProperty(i.key)&&e[i.key]&&(Array.isArray(e[i.key])?n[i.key]=e[i.key].join(\",\"):\"object\"==typeof e[i.key]?(i.j=l(e[i.key]),Object.keys(i.j).map(function(e){return function(t){n[e.key+\".\"+t]=e.j[t]}}(i))):n[i.key]=e[i.key]),i={key:i.key,j:i.j};return n}function d(e){return e.substring(e.indexOf(\"?\")+1).split(\"&\").reduce(function(e,t){var n=t.split(\"=\");return e[n[0]]=n[1],e},{})}function p(){var e=0;return function(){return++e}}function f(t,n){var i={method:\"GET\",withCredentials:!0},i=void 0===i?{}:i;try{var o,r=!1,a=i.method||\"GET\";return e.XMLHttpRequest?(o=new e.XMLHttpRequest,void 0===o.responseType&&(r=!0)):r=!0,r?(o=new e.XDomainRequest,o.onload=function(){n(o.responseText,o)},o.onerror=function(){console.log(\"xhr onerror\")},o.ontimeout=function(){console.log(\"xhr timeout\")},o.onprogress=function(){console.log(\"xhr onprogress\")}):o.onreadystatechange=function(){4===o.readyState&&n&&n(o.responseText,o)},o.open(a,t),r||(i.withCredentials&&(o.withCredentials=!0),i.Y&&o.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),o.setRequestHeader(\"Content-Type\",i.contentType||\"text/plain\")),o.send(void 0),!0}catch(e){return console.error(\"xhr construction\",e),!1}}function h(e){var t=document.createElement(\"script\");t.async=!0,t.src=e,e=document.getElementsByTagName(\"script\")[0],e.parentNode.insertBefore(t,e)}function g(e,t){return e.map(function(e){return e.oxAdUnitId&&\"display\"===e.type||b(e)?e:t.find(function(t){return e.getSlotElementId&&t.divId===e.getSlotElementId()})}).filter(function(e){return e})}function m(e){return e.reduce(function(e,t){return b(t)?e[1].push(t):e[0].push(t),e},[[],[]])}function b(e){return e.oxAdUnitId&&\"video\"===e.type}function y(e){return e.reduce(function(e,t){return e.concat(Array.isArray(t)?y(t):t)},[])}function v(e){e=e||{},this.id=$(),this.adMapping=e,this.a=this.f=1,b(e)?this.type=\"video\":(this.type=\"display\",this.divId=e.divId,this.h=e.oxAdUnitId)}function x(e){var t;return t=void 0===t?1:t,L?e=L(e,t):(e=1e3*e/(void 0===t?1:t),t=Math.min(e,2e4),0<t&&25>t&&(t=25),e=1e3>e?5*Math.round(t/50):5e3>e?10*Math.round(t/100):50*Math.round(t/500)),e}function w(e){return e=e.map(function(e){return e.customKeyValuePairs}),e.filter(function(e){return e}).length?e.map(function(e){var t=e?Object.keys(e).map(function(t){var n=e[t],n=Array.isArray(n)?e[t]:[e[t]],n=n.filter(function(e){return[\"string\",\"number\",\"boolean\"].includes(typeof e)}).join(\",\");return t+\"=\"+n}).join(\"&\"):\"\";return btoa(t.replace(/\\+|\\//g,function(e){return\"+\"===e?\".\":\"_\"}))}).join(\",\"):\"\"}function A(e,t,n,i){var o={};return o.url=t.location.href&&encodeURIComponent(t.location.href),o.be=!0,o.auid=e.oxAdUnitId,o.bc=\"hb_lite_1.0.0\",n&&(o.jsonp=n),i&&(o.tid=i),u(o)}function j(e){return e.filter(function(e){return e.floor&&!!e.floor}).length?e.map(function(e){return e.floor?Math.round(1e3*e.floor):0}).join(\",\"):\"\"}function T(e){return e.map(function(e){return e.oxAdUnitId}).join(\"%2C\")}function _(e){return e.map(function(e){return Array.isArray(e.sizes)?e.sizes.map(function(e){return Array.isArray(e)?e[0]+\"x\"+e[1]:String(e)}).join(\",\"):String(e.sizes)}).join(\"|\")}function S(t,n){var i=(n&&n.document||e.document).body;i&&i.appendChild(O(t,n))}function E(e,t,n,i,o){var r=e.tracking&&e.tracking.impression.match(/([^?]+\\/)ri\\?/),a={};a.bd=+new Date-t,a.bp=e.pub_rev,a.bs=i,a.bsq=e.f,a.bt=n,a.ca=0,a.ts=e.b,a.br=o?\"t\":e.pub_rev?\"p\":\"0\",r&&((new Image).src=r[1]+\"bo?\"+u(a),e.f++)}function O(t,n){var i=(n&&n.document||e.document).createElement(\"iframe\");return i.id=\"openx-pd\"+D(),i.width=\"0\",i.height=\"0\",i.border=\"0px\",i.frameBorder=\"0\",i.hspace=\"0\",i.marginHeight=\"0\",i.marginWidth=\"0\",i.scrolling=\"no\",i.src=t||\"about:blank\",i.style.border=\"0\",i.style.display=\"none\",i.vspace=\"0\",i}function C(t,n){return this.adMappings=[],this.a=[],this.b=p(),this.g=p(),this.deliveryDomain=\"\",this.singleRequest=!1,this.namespace=\"oxhbjs\",this.timeLimit=2500,this.window=n||e,this.f=e.XMLHttpRequest&&\"withCredentials\"in new XMLHttpRequest,this.B(t),this.cmds={push:function(e){return e()}},this}function M(e,t){var n=t.slice();return e.map(function(e){var t,i=n.findIndex(function(t){return String(e.h)===String(t.adunitid)&&k(t,e.adMapping)});return 0<=i&&(t=n.splice(i,1)[0]),e.fill(t)})}function k(e,t){var n=e.creative&&e.creative[0];return!t.sizes||0===t.sizes.length||!!n&&t.sizes.some(function(e){if(!e)return!1;var t=a(e);return e=t.next().value,t=t.next().value,e==n.width&&t==n.height})}var z=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){if(n.get||n.set)throw new TypeError(\"ES3 does not support getters and setters.\");e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},I=void 0!==e&&e===this?this:\"undefined\"!=typeof global&&null!=global?global:this,R=0;s(\"Object.assign\",function(e){return e||function(e,t){for(var n=arguments,i=1;i<arguments.length;i++){var o=n[i];if(o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}}),s(\"Array.prototype.find\",function(e){return e||function(e,t){return c(this,e,t).G}}),s(\"Object.is\",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}}),s(\"Array.prototype.includes\",function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));for(var i=n.length,o=t||0;o<i;o++)if(n[o]==e||Object.is(n[o],e))return!0;return!1}}),s(\"Promise\",function(e){function t(e){this.b=0,this.i=void 0,this.a=[];var t=this.g();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}if(e)return e;n.prototype.b=function(e){this.a||(this.a=[],this.g()),this.a.push(e)},n.prototype.g=function(){var e=this;this.f(function(){e.i()})};var i=I.setTimeout;n.prototype.f=function(e){i(e,0)},n.prototype.i=function(){for(var e=this;this.a&&this.a.length;){var t=e.a;e.a=[];for(var n=0;n<t.length;++n){var i=t[n];delete t[n];try{i()}catch(t){e.h(t)}}}this.a=null},n.prototype.h=function(e){this.f(function(){throw e})},t.prototype.g=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.U),reject:e(this.h)}},t.prototype.U=function(e){if(e===this)this.h(new TypeError(\"A Promise cannot resolve to itself\"));else if(e instanceof t)this.V(e);else{var n;e:switch(typeof e){case\"object\":n=null!=e;break e;case\"function\":n=!0;break e;default:n=!1}n?this.P(e):this.w(e)}},t.prototype.P=function(e){var t=void 0;try{t=e.then}catch(e){return void this.h(e)}\"function\"==typeof t?this.H(t,e):this.w(e)},t.prototype.h=function(e){this.A(2,e)},t.prototype.w=function(e){this.A(1,e)},t.prototype.A=function(e,t){if(0!=this.b)throw Error(\"Cannot settle(\"+e+\", \"+t|\"): Promise already settled in state\"+this.b);this.b=e,this.i=t,this.N()},t.prototype.N=function(){if(this.a){for(var e=this.a,t=0;t<e.length;++t)e[t].call(),e[t]=null;this.a=null}};var o=new n;return t.prototype.V=function(e){var t=this.g();e.f(t.resolve,t.reject)},t.prototype.H=function(e,t){var n=this.g();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function i(e,t){return\"function\"==typeof e?function(t){try{o(e(t))}catch(e){r(e)}}:t}var o,r,a=new t(function(e,t){o=e,r=t});return this.f(i(e,o),i(n,r)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.f=function(e,t){function n(){switch(i.b){case 1:e(i.i);break;case 2:t(i.i);break;default:throw Error(\"Unexpected state: \"+i.b)}}var i=this;this.a?this.a.push(function(){o.b(n)}):o.b(n)},t.resolve=function(e){return e instanceof t?e:new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(n,i){for(var o=a(e),r=o.next();!r.done;r=o.next())t.resolve(r.value).f(n,i)})},t.all=function(e){var n=a(e),i=n.next();return i.done?t.resolve([]):new t(function(e,o){var r=[],a=0;do{r.push(void 0),a++,t.resolve(i.value).f(function(t){return function(n){r[t]=n,--a||e(r)}}(r.length-1),o),i=n.next()}while(!i.done)})},t.$jscomp$new$AsyncExecutor=function(){return new n},t}),s(\"Array.prototype.fill\",function(e){return e||function(e,t,n){var i=this,o=this.length||0;for(0>t&&(t=Math.max(0,o+t)),(null==n||n>o)&&(n=o),n=Number(n),0>n&&(n=Math.max(0,o+n)),t=Number(t||0);t<n;t++)i[t]=e;return this}}),s(\"Array.prototype.findIndex\",function(e){return e||function(e,t){return c(this,e,t).u}});var $=p(),L=null;v.prototype.fill=function(e){e=e||{},this.D(),this.adUnit=e,this.pub_rev=e.pub_rev?parseInt(e.pub_rev,10):0;var t;return e.pub_rev?(t=Math.pow(10,3),t=Math.round(parseInt(e.pub_rev,10)/1e3*t)/t):t=0,this.cpm=t,\"video\"===this.type?(this.b=e.cache_key,this.per_colo_domain=e.per_colo_domain,this.ph=e.ph):(this.b=e.ts,this.ad=e.html,this.g=e.deal_id,this.i=1===e.auct_win_is_deal,e.creative&&0<e.creative.length?(this.width=parseInt(e.creative[0].width,10),this.height=parseInt(e.creative[0].height,10),this.tracking=e.creative[0].tracking):this.adMapping.sizes&&0<this.adMapping.sizes.length&&(this.width=this.adMapping.sizes[0][0],this.height=this.adMapping.sizes[0][1])),this},v.prototype.fill=v.prototype.fill,v.prototype.m=function(){var e=[x(this.cpm)];return this.g&&e.push(this.g),this.i&&e.push(\"pmp\"+x(this.cpm)),e=e.join(\",\"),[this.width+\"x\"+this.height,e].join(\"_\")},v.prototype.getOxTargetingValue=v.prototype.m,v.prototype.o=function(){return[this.width+\"x\"+this.height,x(this.adUnit&&this.adUnit.tbd||0)].join(\"_\")},v.prototype.getSmartFloorTargetingValue=v.prototype.o,v.prototype.s=function(){return!(!this.adUnit||!this.adUnit.tbd)},v.prototype.hasSmartFloor=v.prototype.s,v.prototype.L=function(e){return this.R<(e||(new Date).getTime())-27e4},v.prototype.isExpired=v.prototype.L,v.prototype.D=function(){this.a=2},v.prototype.setFilled=v.prototype.D,v.prototype.l=function(){return 2<=this.a},v.prototype.isFilled=v.prototype.l,v.prototype.F=function(){this.a=3},v.prototype.setTargeted=v.prototype.F,v.prototype.M=function(){return 3<=this.a},v.prototype.isTargeted=v.prototype.M,v.prototype.C=function(){this.a=4},v.prototype.setDisplayed=v.prototype.C,v.prototype.O=function(){this.a=1},v.prototype.resetBidState=v.prototype.O,v.prototype.v=function(){return 4<=this.a},v.prototype.isDisplayed=v.prototype.v;var D=p();C.prototype.B=function(e){return e=void 0===e?{}:e,this.deliveryDomain=e.deliveryDomain,this.timeLimit=e.timeLimit||this.timeLimit,this.singleRequest=void 0!==e.singleRequest?e.singleRequest:this.singleRequest,this.namespace=e.namespace||this.namespace,this.window[this.namespace]=this.window[this.namespace]||{},this.adMappings=e.adMappings||this.adMappings,this.contentTopicId=void 0!==e.contentTopicId?e.contentTopicId:this.contentTopicId,this.customKeyValuePairs=void 0!==e.customKeyValuePairs?e.customKeyValuePairs:this.customKeyValuePairs,e.customPriceBucket&&typeof e.customPriceBucket===P&&(L=e.customPriceBucket),this},C.prototype.setConfig=C.prototype.B,C.prototype.K=function(e,t){function n(e,t,n,i){return new Promise(function(a){if(e){var s=new v(e),c=(new Date).valueOf(),u=\"videoAdResponseHandler\"+r.g(),l=A(e,i,\"window.\"+t+\".\"+u,d);i[t][u]=function(e,t,n){var i=!1,o=setTimeout(function(){i||(i=!0,n(s))},e);return function(a){var u=a;if(\"string\"==typeof a)try{u=JSON.parse(a)}catch(e){u={pub_rev:\"\",cache_key:\"\",per_colo_domain:\"\",ph:\"\"}}s.fill({pub_rev:u.pub_rev,cache_key:u.cache_key,per_colo_domain:u.per_colo_domain,ph:u.ph}),i||(i=!0,clearTimeout(o),n(s)),r.a.push(s),E(s,c,e,t,i)}}(n,i.location.hostname,a),h(\"//\"+o+\"/v/1.0/avjp?\"+l)}else a()})}e=e||{};var i=this,o=e.deliveryDomain||this.deliveryDomain;if(!o)return console.error(\"OX Header Bidder: getBids() Error: deliveryDomain not defined\"),new Promise(function(e){e([])});var r=this,s=e.timeLimit||this.timeLimit,c=void 0!==e.singleRequest?e.singleRequest:this.singleRequest,l=[],d=e.contentTopicId||this.contentTopicId,p=e.customKeyValuePairs||this.customKeyValuePairs;e.customPriceBucket&&typeof e.customPriceBucket===P&&(L=e.customPriceBucket);var b=[];b=Array.isArray(e.adMappings)?g(e.adMappings,this.adMappings):this.adMappings;var x=a(m(b)),b=x.next().value,x=x.next().value;return l.push(function(e,t,n,i,a){return new Promise(function(s){function c(e,t,n){var i=!1,o=e.map(function(e){return m.find(function(t){return t.divId===e.divId})}).filter(function(e){return e}),s=setTimeout(function(){i||(i=!0,n(m))},t);return function(e){var c=e;if(\"string\"==typeof e)try{c=JSON.parse(e)}catch(e){c={ads:{ad:[],count:0,pixels:\"\",version:-1}}}e={ads:{ad:c.ads&&c.ads.ad,count:c.ads&&c.ads.count,pixels:c.ads&&c.ads.pixels,version:c.ads&&c.ads.version}};var u=i,c=M(o,e.ads.ad||[]);g--,i||g||(i=!0,clearTimeout(s),n(m)),r.a=r.a.concat(c),e.ads&&e.ads.pixels&&S(e.ads.pixels,a),c.forEach(function(e){E(e,l,t,a.location.hostname,u)})}}if(t.length&&t.length){var l=(new Date).valueOf(),g=e?1:t.length,m=t.map(function(e){return new v(e)});t=e?[t]:t,t.forEach(function(t){var l=r.b();t=e?t:[t];var g;g=t;var m=d;if(Array.isArray(g)){var b=j(g),y=a.self!==a.top,v={};v.auid=T(g),v.aus=_(g),v.bc=\"hb_lite_1.0.0\",v.be=1,v.ch=a.document.a||a.document.characterSet,v.ifr=y,v.jr=a.document.referrer,v.ju=a.location.href&&encodeURIComponent(a.location.href),v.res=a.screen.width+\"x\"+a.screen.height+\"x\"+a.screen.colorDepth;var x,A;A=a,x=a.document;var S;y?(A=a.top,x=a.top.document,y=x.documentElement,S=x.body,x=A.innerWidth||y.clientWidth||S.clientWidth,A=A.innerHeight||y.clientHeight||S.clientHeight):(y=x.documentElement,x=A.innerWidth||y.clientWidth,A=A.innerHeight||y.clientHeight),v.tws=x+\"x\"+A,v.tz=(new Date).getTimezoneOffset(),v.nocache=(new Date).getTime(),v.aumfs=b,v.tid=m,v.c=p,v.tps=w(g),g=u(v)}else g=\"\";g=\"//\"+o+\"/w/1.0/arj?\"+g,t=c(t,i,s),l=\"displayAdResponseHandler\"+l,m=!0,r.f&&(m=!f(g,t)),m&&(a[n][l]=t,h(g+\"&callback=window.\"+n+\".\"+l))})}else s([])})}(c,b,this.namespace,s,this.window)),c=x.map(function(e){return n(e,i.namespace,s,i.window)}),Promise.all(l.concat(c)).then(function(e){var n=(new Date).getTime();return e=y(e).filter(function(e){return e}).map(function(e){return e.R=n,e}),t&&t(e),e})},C.prototype.getBids=C.prototype.K,C.prototype.S=function(t,n){function i(){function t(e){return void 0!==e}var n;try{n=e.parent||e.top||e}catch(t){n=e}var i=n.document.documentElement,o=n.innerWidth;return n=n.innerHeight,o=t(o)?o:i.clientWidth,n=t(n)?n:i.clientHeight,t(o)&&t(n)?[o,n]:[0,0]}if(t){var o,r=function(e,t){var n=e.getSlotElementId();return t.find(function(e){return e.divId===n&&!e.J&&!e.v()})||null}(t,n),a=function(e,t){if(!t)return!1;var n=i();return e.getSizes(n[0],n[1]).some(function(e){return e.getWidth()===t.width&&e.getHeight()===t.height})}(t,r);o=\"0x0\";var s=i();(s=t.getSizes(s[0],s[1]))&&0<s.length&&(o=s[0].getWidth()+\"x\"+s[0].getHeight()),o=r?r.l()?a?r.m():o+\"_0\":o+\"_t\":o+\"_0\";try{t.setTargeting(\"oxb\",o),r&&r.l()&&a&&(t.setTargeting(\"oxb_bid_id\",r.id.toString()),t.setTargeting(\"oxb_bid_namespace\",this.namespace),r.s()&&t.setTargeting(\"oxb1\",r.o()),r.F())}catch(e){console.error(\"AuctionEvents.ERROR\",\"Unexpected error in setOxTargeting\",e)}}},C.prototype.setOxTargetingForGoogletagSlot=C.prototype.S,C.prototype.T=function(e,t,n){var i=t.oxb_bid_id&&parseInt(t.oxb_bid_id[0],10);if((e=n.document)&&i)try{var o=this.a.find(function(e){return e.id===i});if(o){o.C(),o.J=o.Z=!0;var r=o.height,a=o.width,s=o.W,c=o.ad;e===document||\"video\"===o.X?console.error(\"Error trying to write ad. Ad render call ad id \"+i+\" was prevented from writing to the main document.\"):c?(e.write(c),e.close(),e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=a,e.defaultView.frameElement.height=r)):s?(e.write('<IFRAME SRC=\"'+s+'\" FRAMEBORDER=\"0\" SCROLLING=\"no\" MARGINHEIGHT=\"0\" MARGINWIDTH=\"0\" TOPMARGIN=\"0\" LEFTMARGIN=\"0\" ALLOWTRANSPARENCY=\"true\" WIDTH=\"'+a+'\" HEIGHT=\"'+r+'\"></IFRAME>'),e.close(),e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=a,e.defaultView.frameElement.height=r)):console.error(\"Error trying to write ad. No ad for bid response id: \"+i)}else console.error(\"Error trying to write ad. Cannot find ad by given id : \"+i)}catch(e){console.error(\"Error trying to write ad Id :\"+i+\" to the page:\"+e.message)}else console.error(\"Error trying to write ad Id :\"+i+\" to the page. Missing document or adId\")},C.prototype.showAd=C.prototype.T,C.prototype.I=function(t,n){if(t=void 0===t?\"\":t,!n)return t;var i=t.substring(0,t.indexOf(\"?\")+1),o=d(t),r=encodeURIComponent(\"ff=\"+n.b+\"&oxcolo=\"+n.per_colo_domain+\"&oxph=\"+n.ph+\"&oxb=\"+o.sz+\"v_\"+x(n.cpm));return o.url=e.location.href&&encodeURIComponent(e.location.href),o.description_url=e.location.hostname&&encodeURIComponent(e.location.hostname),o.cust_params=o.cust_params?o.cust_params+\"%26\"+r:r,i+u(o)},C.prototype.buildVastUrl=C.prototype.I;var P=\"function\";e.HeaderBidder=C}(window)},isEnabled$1=function(){return location.hash.indexOf(\"ads-use-new-openx\")>=0||isDE},oxAdunitMap={\"/4467/ms24_de/Detailpage/SkyRight\":538655030,\"/4467/ms24_de/Listpage/Contentbanner_2\":538615014,\"/4467/ms24_de/Listpage/Contentbanner_3\":538615009,\"/4467/ms24_de/Listpage/Contentbanner_4\":538615011,\"/4467/ms24_de/Listpage/Contentbanner_1\":538615007,\"/4467/ms24_de/Detailpage/GalleryMR\":538621138,\"/4467/ms24_de/Listpage/SkyRight\":538615016,\"/4467/as24_de/Listpage/Top\":538615010,\"/4467/as24_de/Listpage/SkyLeft\":538473049,\"/4467/as24_de/Detailpage/SkyRight\":538665959,\"/4467/ms24_de/Detailpage\":538473562,\"/4467/ms24_de/Listpage/Top\":538615015,\"/4467/ms24_de/Listpage/SkyLeft\":538473560,\"/4467/ms24_de/Listpage\":538473559,\"/4467/ms24_de/Homepage\":538624366,\"/4467/as24_de/Listpage\":538473052,\"/4467/as24_de/Detailpage/Top\":538621133,\"/4467/as24_de/Detailpage/GalleryMR\":538621136,\"/4467/as24_de/Gallery\":538473564,\"/4467/as24_de/Detailpage_HPA\":538473051,\"/4467/as24_de/Detailpage/Contentbanner_1\":538655031,\"/4467/ms24_de/Detailpage/SkyLeft\":538621139,\"/4467/as24_de/Listpage/SkyRight\":538615005,\"/4467/as24_de/Detailpage/Contentbanner_2\":538655032,\"/4467/as24_de/Detailpage\":538473050,\"/4467/as24_de/Listpage/Contentbanner_1\":538615008,\"/4467/as24_de/Listpage/Contentbanner_2\":538615012,\"/4467/as24_de/Listpage/Contentbanner_3\":538615006,\"/4467/ms24_de/Detailpage/Contentbanner_1\":538621135,\"/4467/as24_de/Listpage/Contentbanner_4\":538615013,\"/4467/ms24_de/Detailpage/Contentbanner_2\":538621137,\"/4467/ms24_de/Detailpage/Top\":538621140,\"/4467/as24_de/Detailpage/SkyLeft\":538621134},bidderConfig={timeLimit:1500,deliveryDomain:\"scout24-d.openx.net\",singleRequest:!0,contentTopidId:\"99\",adMappings:[]},slotsCache={},destroyAdSlotById=function(e){var t=slotsCache[e].slot;gt$1().cmd.push(function(){return gt$1().destroySlots([t])})},refreshAdSlotById=function(e){var t=slotsCache[e];t&&(t.waitsForRefresh=!0,refreshAdslotsWaitingToBeRefreshed())},register=function(e){var t=e.adunit,n=e.container,i=e.outOfPage,o=e.sizeMapping,r=e.slotElement,a=e.immediate,s=e.collapseEmpty,c=e.openxIgnore,u=e.preload;void 0===u&&(u=0);var l=uuid(),d={refresh:function(){return refreshAdSlotById(l)},destroy:function(){return destroyAdSlotById(l)}};return slotsCache[l]={ret:d,container:n,slotElement:r,preload:u},gt$1().cmd.push(function(){\nvar e=gt$1().pubads(),r=i?gt$1().defineOutOfPageSlot(t,n.id).addService(e):gt$1().defineSlot(t,[],n.id).defineSizeMapping(o).addService(e);s&&r.setCollapseEmptyDiv(!0),gt$1().display(n.id),slotsCache[l].slot=r,slotsCache[l].outOfPage=i,slotsCache[l].immediate=a,slotsCache[l].openxIgnore=c,refreshAdSlotById(l)}),d},refreshOxBids=!1,refreshAdslotsWaitingToBeRefreshed=debounce_1$1(function(){var e=[];Object.keys(slotsCache).forEach(function(t){var n=slotsCache[t];n.waitsForRefresh&&(n.outOfPage||isElementInViewport(n.slotElement,n.preload)||n.immediate)&&(e.push(n),n.waitsForRefresh=!1,n.ret.onrefresh&&n.ret.onrefresh())}),e.length>0&&gt$1().cmd.push(function(){var t,n=isEnabled$1(),i=window.OX&&window.OX.dfp_bidder&&window.OX.dfp_bidder.refresh&&window.OX.dfp_bidder.setOxTargeting,o=isEnabled(),r=e.filter(function(e){return!e.openxIgnore}).map(function(e){return e.slot}),a=e.map(function(e){return e.slot}),s=e.filter(function(e){return!e.openxIgnore}),c=function(){return refreshOxBids?new Promise(function(e){setTimeout(e,1500),window.OX.dfp_bidder.refresh(e)}):Promise.resolve()},u=function(){return window.oxhbjs.getBids({adMappings:r}).then(function(e){return t=e})},l=s.map(function(e){return{slotID:e.slot.getSlotElementId(),slotName:e.slot.getAdUnitPath(),sizes:JSON.parse(e.slotElement.getAttribute(\"sizes\")).filter(function(e){return e[0]>20&&e[1]>20})}}).filter(function(e){return e.sizes.length>0});Promise.all([function(){return n?u():c()}(),function(){return o?new Promise(function(e){setTimeout(e,1500),window.apstag.fetchBids({slots:l,timeout:1500},e)}):Promise.resolve()}()]).then(function(){n?s.forEach(function(e){return window.oxhbjs.setOxTargetingForGoogletagSlot(e.slot,t)}):i&&(refreshOxBids=!0,window.OX.dfp_bidder.setOxTargeting(r)),o&&window.apstag.setDisplayBids(),gt$1().pubads().refresh(a,{changeCorrelator:!1})})})},50),findXIdByGptSlot=function(e){var t=Object.keys(slotsCache).filter(function(t){return slotsCache[t].slot===e}).map(function(e){return slotsCache[e]});return t.length?t[0]:null};gt$1().cmd.push(function(){gt$1().pubads().addEventListener(\"slotRenderEnded\",function(e){var t=findXIdByGptSlot(e.slot);e.isEmpty?t&&t.ret.onempty&&t.ret.onempty():t&&t.ret.onload&&t.ret.onload()})}),window.addEventListener(\"load\",refreshAdslotsWaitingToBeRefreshed),window.addEventListener(\"scroll\",refreshAdslotsWaitingToBeRefreshed),window.addEventListener(\"animationend\",refreshAdslotsWaitingToBeRefreshed),window.addEventListener(\"transitionend\",refreshAdslotsWaitingToBeRefreshed);var head_1=head,first=head_1,last_1=last,parseResolution=function(e){if(/fluid/.test(e))return\"fluid\";var t=e.replace(/[\\s]/g,\"\").match(/([\\d]+)x([\\d]+)/i);return t&&t[2]?[0|t[1],0|t[2]]:null},parseAttributes=function(e){return Array.from(e).filter(function(e){return/size-map-/.test(e.nodeName)}).map(function(e){return[parseResolution(e.nodeName),e.value.split(\",\").map(parseResolution).filter(function(e){return\"fluid\"===e||Array.isArray(e)&&2===e.length})]})},consolidateSizeMapping=function(e){var t=e.sort(function(e,t){return t[0][0]-e[0][0]||t[0][1]-e[0][1]});return function(t){var n=last_1(t);return n&&0===n[0][0]&&0===n[0][1]||e.push([[0,0],[]]),e}(t)},getEligibleSizesForResolution=function(e,t){var n=first(e.filter(function(e){return\"fluid\"===e||e[0][0]<=t.x&&e[0][1]<=t.y}));return n&&n[1]||[]},parseAttributesIntoValidMapping=function(e){var t=parseAttributes(e);return consolidateSizeMapping(t)},styles=\"as24-ad-slot{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}as24-ad-slot>div{display:inline-block}as24-ad-slot{background-image:url(data:image/svg+xml;charset=utf-8,%3Csvg%20id%3D%22Ebene_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22141.7%22%20height%3D%2270.7%22%20viewBox%3D%220%200%20141.7%2070.7%22%3E%3Cstyle%3E%3C%21%5BCDATA%5B%0D%0A%09.st0%7Bfill%3A%23C4C4C4%3B%7D%0D%0A%5D%5D%3E%3C%2Fstyle%3E%3Cpath%20class%3D%22st0%22%20d%3D%22M14.7%2061.4h-.2c-2.8%200-5.2-1.9-5.2-5.2%200-2%203-2%203%200%200%201.4.9%202.2%202.2%202.2h.2c1.3%200%202.3-.7%202.3-2%200-3.2-7.5-3.5-7.5-8.3v-.5c0-2.8%202.8-4.4%205-4.4h.2c2.7%200%205%201.7%205%204.1%200%201.9-3%202-3%20.1%200-.7-.8-1.2-2.1-1.2h-.2c-1.1%200-2%20.6-2%201.6v.4c0%202%207.5%202.9%207.5%208.3.1%202.9-2.2%204.9-5.2%204.9zM27.7%2061.4h-.2c-2.8%200-5.2-2.2-5.2-5.1v-8.1c0-2.9%202.3-5%205.2-5h.2c2.6%200%204.8%201.8%205.1%204.3v.3c0%20.9-.8%201.4-1.5%201.4s-1.3-.4-1.4-1.3c-.2-1.1-1.1-1.8-2.2-1.8h-.2c-1.2%200-2.2.9-2.2%202.1v8.1c0%201.2%201%202.1%202.2%202.1h.2c1.1%200%202-.7%202.2-1.8.1-.9.8-1.3%201.4-1.3.8%200%201.5.5%201.5%201.4v.3c-.3%202.6-2.5%204.4-5.1%204.4zM40.4%2061.4h-.2c-2.8%200-5.2-2.2-5.2-5.1v-8c0-2.9%202.3-5.1%205.2-5.1h.2c2.9%200%205.2%202.2%205.2%205.1v8c-.1%202.9-2.4%205.1-5.2%205.1zm2.2-13.1c0-1.2-1-2.1-2.2-2.1h-.2c-1.2%200-2.2.9-2.2%202.1v8c0%201.2%201%202.1%202.2%202.1h.2c1.2%200%202.2-.9%202.2-2.1v-8zM54%2061.4h-.2c-2.8%200-5.2-2.3-5.2-5.2V44.8c0-1%20.7-1.5%201.5-1.5.7%200%201.5.5%201.5%201.5v11.5c0%201.2%201%202.2%202.2%202.2h.2c1.2%200%202.2-1%202.2-2.2V44.8c0-1%20.7-1.5%201.5-1.5s1.5.5%201.5%201.5v11.5c0%202.8-2.3%205.1-5.2%205.1zM69.8%2046.4h-2.1v13.5c0%201-.7%201.5-1.5%201.5-.7%200-1.5-.5-1.5-1.5V46.4h-2.1c-1%200-1.5-.7-1.5-1.5%200-.7.5-1.5%201.5-1.5h7.1c1%200%201.5.7%201.5%201.5.1.7-.4%201.5-1.4%201.5zM83.7%2061.2H77c-1%200-1.5-.9-1.5-1.8%200-.3.1-.6.2-.9l5.9-9.4c.3-.5.3-.8.3-1.2v-.2c0-.8-.7-1.5-1.5-1.5h-.1c-.9%200-1.5.7-1.5%201.5v.3c0%201-.8%201.5-1.5%201.5s-1.5-.5-1.5-1.5v-.4c0-2.5%202-4.3%204.5-4.3h.1c2.4%200%204.5%201.8%204.5%204.3v.3c0%201-.4%201.8-.9%202.7l-4.7%207.7h4.5c1%200%201.5.7%201.5%201.5-.1.7-.6%201.4-1.6%201.4zM95.5%2057.7h-.6v2.2c0%201-.7%201.5-1.5%201.5s-1.4-.5-1.4-1.5v-2.2h-4.1c-1%200-1.7-.6-1.7-1.6%200-.3.1-.6.2-.8l4.8-11.2c.3-.6.8-.9%201.3-.9.8%200%201.5.6%201.5%201.4%200%20.2%200%20.4-.1.6l-4.3%209.4H92v-1.5c0-1%20.7-1.5%201.5-1.5s1.5.5%201.5%201.5v1.5h.6c1%200%201.5.7%201.5%201.5s-.6%201.6-1.6%201.6zM16.3%2014.6l-1.7%205.5h3.3zM54.7%2024.3h.2c1.2%200%202.2-.9%202.2-2.1v-8c0-1.2-1-2.1-2.2-2.1h-.2c-1.2%200-2.2.9-2.2%202.1v8c0%201.2%201%202.1%202.2%202.1z%22%2F%3E%3Cpath%20class%3D%22st0%22%20d%3D%22M0%200v70.7h123.3c10.1%200%2018.4-8.2%2018.4-18.3V0H0zm49.5%2014.2c0-2.9%202.3-5.1%205.2-5.1h.2c2.9%200%205.2%202.2%205.2%205.1v8c0%202.9-2.3%205.1-5.2%205.1h-.2c-2.8%200-5.2-2.2-5.2-5.1v-8zm-10.4-5h7.1c1%200%201.5.7%201.5%201.5%200%20.7-.5%201.5-1.5%201.5h-2.1v13.5c0%201-.7%201.5-1.5%201.5-.7%200-1.5-.5-1.5-1.5V12.2H39c-1%200-1.5-.8-1.5-1.5.1-.7.6-1.5%201.6-1.5zm-14.3%201.4c0-1%20.7-1.5%201.5-1.5.7%200%201.5.5%201.5%201.5v11.5c0%201.2%201%202.2%202.2%202.2h.2c1.2%200%202.2-1%202.2-2.2V10.6c0-1%20.7-1.5%201.5-1.5.7%200%201.5.5%201.5%201.5v11.5c0%202.8-2.3%205.2-5.2%205.2H30c-2.8%200-5.2-2.3-5.2-5.2V10.6zM9.9%2025.3l4.7-14.9c.4-1.2%201-1.3%201.7-1.3.6%200%201.3.1%201.7%201.3l4.7%2014.9c.1.2.1.3.1.5%200%20.9-.8%201.4-1.5%201.4-.6%200-1.2-.3-1.4-1.1l-1-3.1h-5.1l-1%203.1c-.2.7-.8%201.1-1.4%201.1-.8%200-1.5-.6-1.5-1.4-.1-.2-.1-.3%200-.5zm129.6%2027.2c0%208.7-7.2%2016-16.2%2016H2.2V35.3h137.3v17.2z%22%2F%3E%3C%2Fsvg%3E);background-size:70px 35px;background-position:center center;background-repeat:no-repeat;position:relative}as24-ad-slot[out-of-page],.sc-ads-no-placeholder,.sc-ads-silent-placeholder,as24-ad-slot[loaded]:not([empty]){background-image:none}.sc-ads-silent-placeholder>div{box-shadow:inset 0 0 1px #cdcdcd}.sc-ads-silent-placeholder[loaded]:not([empty])>div{box-shadow:none}as24-ad-slot[loaded][ad-label]:not([empty]):before{content:attr(ad-label);position:absolute;top:-17px;display:inline-block;font-size:0.8125rem}\\n\",registerElement=function(e){void 0===e&&(e=\"as24-ad-slot\");var t=Object.create(HTMLElement.prototype,{attachedCallback:{value:function(){var e=this,t={x:window.innerWidth,y:window.innerHeight},n=parseAttributesIntoValidMapping(this.attributes),i=getEligibleSizesForResolution(n,t),o=i&&i.length>0;if(setAttribute(this,\"size-mapping\",JSON.stringify(n)),setAttribute(this,\"sizes\",JSON.stringify(i)),!o)return setAttribute(this,\"empty\",\"\"),void this.dispatchEvent(new Event(\"ad-slot-empty\"),{bubbles:!0});var r=\"ad-\"+uuid(),a=getAttribute(this,\"ad-unit\"),s=hasAttribute(this,\"out-of-page\"),c=hasAttribute(this,\"immediate\"),u=hasAttribute(this,\"collapse-empty\"),l=hasAttribute(this,\"openx-ignore\"),d=0|getAttribute(this,\"preload\"),p=this.container=document.createElement(\"div\");if(p.id=r,this.appendChild(p),!u){var f=i.filter(function(e){return\"fluid\"!==e}).sort(function(e,t){return e[1]-t[1]}),h=f[0][1],g=f[0][0];p.style.minHeight=this.style.minHeight=h+\"px\",p.style.minWidth=this.style.minWidth=g+\"px\"}this.adslot=register({adunit:a,outOfPage:s,sizeMapping:n,container:p,slotElement:this,immediate:c,collapseEmpty:u,openxIgnore:l,preload:d}),this.adslot.onempty=function(){setAttribute(e,\"empty\",\"\"),e.dispatchEvent(new Event(\"ad-slot-empty\"),{bubbles:!0})},this.adslot.onload=function(){if(setAttribute(e,\"loaded\",\"\"),e.className+=\" rnd-\"+(1e4*Math.random()|0),e.dispatchEvent(new Event(\"ad-slot-loaded\"),{bubbles:!0}),!u){var t=parseInt(e.style.minHeight,10),n=p.clientHeight,i=parseInt(e.style.minWidth,10),o=p.clientWidth;e.style.minHeight=Math.max(t,n)+\"px\",e.style.minWidth=Math.max(i,o)+\"px\"}},this.adslot.onrefresh=function(){removeAttribute(e,\"loaded\"),removeAttribute(e,\"empty\")}}},detachedCallback:{value:function(){this.adslot&&this.adslot.destroy()}},refreshAdSlot:{value:function(){this.adslot&&(this.container.innerHTML=\"\",this.adslot.refresh())}}}),n=styles.replace(/as24-ad-slot/g,e);addCss(n),document.registerElement(e,{prototype:t})},mockGoogletag=function(){var e={},t={clearTargeting:function(t){delete e[t]},getTargetingKeys:function(){return Object.keys(e)},setTargeting:function(t,n){e[t]=n},enableSingleRequest:function(){},disableInitialLoad:function(){},collapseEmptyDivs:function(){}};window.googletag={cmd:[],enableServices:function(){},pubads:function(){return t}}},testContainer=document.createElement(\"div\");document.body.appendChild(testContainer),describe(\"The as24-ad-slot element\",function(){var e;beforeEach(function(){e=\"x-\"+uuid(),mockGoogletag(),registerElement(e)}),it(\"Correctly parsing size-mapping from size-map-*x* attributes\",function(){testContainer.innerHTML=\"<\"+e+' size-map-0x0=\"300x50, 320x100\" size-map-728x300=\"728x90, 300x50\"></'+e+\">\";var t=document.querySelector(\"\"+e),n=JSON.parse(t.getAttribute(\"size-mapping\"));expect(n).to.deep.equal([[[728,300],[[728,90],[300,50]]],[[0,0],[[300,50],[320,100]]]])}),it(\"Automatically sets size map for 0x0 to empty array\",function(){testContainer.innerHTML=\"<\"+e+' size-map-728x300=\"728x90, 300x50\"></'+e+\">\";var t=document.querySelector(\"\"+e),n=JSON.parse(t.getAttribute(\"size-mapping\"));expect(n).to.deep.equal([[[728,300],[[728,90],[300,50]]],[[0,0],[]]])}),it(\"Elements have refreshAdSlot method\",function(){var t=document.createElement(e);expect(t.refreshAdSlot).to.be.exist})});var kruxSegmentsCharacterLimit=4500,retrieveUser=function(){return retrieve(\"user\")},retrieveSegments=function(){return truncateSegmentsToMaxChars(retrieve(\"segs\")&&retrieve(\"segs\").split(\",\")||[],kruxSegmentsCharacterLimit)},registerElement$2=function(e){void 0===e&&(e=\"as24-ad-targeting\");var t=window.googletag||(window.googletag={cmd:[]}),n=function(){var n=getTargetingData(e);t.cmd.push(function(){var e=t.pubads();e.getTargetingKeys().forEach(function(t){return e.clearTargeting(t)});for(var i in n){var o=(\"\"+n[i]).split(\",\");e.setTargeting(i,o)}var r=retrieveUser();r&&e.setTargeting(\"kuid\",r);var a=retrieveSegments();a&&a.length>0&&e.setTargeting(\"ksg\",retrieveSegments())})},i=Object.create(HTMLElement.prototype,{attachedCallback:{value:n},detachedCallback:{value:n}});addCss(e+\"{display:none}\"),document.registerElement(e,{prototype:i})},getTargetingData=function(e){var t=Array.from(document.querySelectorAll(e)||[]),n=t.map(function(e){return JSON.parse(e.innerHTML.trim()||\"{}\")}),i={};return n.forEach(function(e){return Object.assign(i,e)}),i},testContainer$1=document.createElement(\"div\");document.body.appendChild(testContainer$1),describe(\"The as24-ad-targeting element\",function(){var e;beforeEach(function(){mockGoogletag(),e=\"x-\"+uuid()}),afterEach(function(e){testContainer$1.innerHTML=\"\",delete window.googletag,setTimeout(e,100)}),it(\"Sets targeting correctly with only one element\",function(){var t=sinon.spy(window.googletag.pubads(),\"setTargeting\");registerElement$2(e),testContainer$1.innerHTML+=\"<\"+e+'>{ \"a\": 1, \"b\": 2 }</'+e+\">\",window.googletag.cmd.forEach(function(e){e()}),expect(t.callCount).to.equal(2),expect(t.firstCall.calledWith(\"a\",[\"1\"])).to.be.true,expect(t.secondCall.calledWith(\"b\",[\"2\"])).to.be.true}),it(\"Sets targeting corectly and clears out old values with multiple elements\",function(){var t=sinon.spy(window.googletag.pubads(),\"setTargeting\"),n=sinon.spy(window.googletag.pubads(),\"clearTargeting\");registerElement$2(e),testContainer$1.innerHTML=\"<\"+e+'>{ \"a\": 1, \"b\": 2 }</'+e+\"><\"+e+'>{ \"b\": 3, \"c\": 4, \"d\": 5 }</'+e+\">\",window.googletag.cmd.forEach(function(e){return e()}),expect(window.googletag.pubads().getTargetingKeys()).to.deep.equal([\"a\",\"b\",\"c\",\"d\"]),expect(n.callCount).to.equal(4),expect(t.callCount).to.equal(8)}),it(\"Sets Krux parameters correctly from localStorage or cookie\",function(){var t=sinon.spy(window.googletag.pubads(),\"setTargeting\");localStorage.setItem(\"kxuser\",\"user\"),localStorage.setItem(\"kxsegs\",\"seg1,seg2\"),registerElement$2(e),testContainer$1.innerHTML+=\"<\"+e+'>{ \"a\": 1 }</'+e+\">\",window.googletag.cmd.forEach(function(e){e()}),expect(t.callCount).to.equal(3),expect(t.firstCall.calledWith(\"a\",[\"1\"])).to.be.true,expect(t.secondCall.calledWith(\"kuid\",\"user\")).to.be.true,expect(t.thirdCall.calledWith(\"ksg\",[\"seg1\",\"seg2\"])).to.be.true,localStorage.removeItem(\"kxuser\"),localStorage.removeItem(\"kxsegs\")})});var createAttribute=function(e,t){return{nodeName:e,value:t}};describe(\"Size mapping\",function(){it(\"Happy case\",function(){var e=[createAttribute(\"size-map-0x0\",\"300x100, 300x50\"),createAttribute(\"size-map-728x200\",\"600x100\")],t=parseAttributesIntoValidMapping(e);expect(t).to.deep.equal([[[728,200],[[600,100]]],[[0,0],[[300,100],[300,50]]]])}),it(\"Without 0x0 mapping, default empty sizes array should be added\",function(){var e=[createAttribute(\"size-map-728x200\",\"600x100\")],t=parseAttributesIntoValidMapping(e);expect(t).to.deep.equal([[[728,200],[[600,100]]],[[0,0],[]]])}),it(\"Size mapping should be sorted by resolution from greater to smaller\",function(){var e=[createAttribute(\"size-map-0x0\",\"300x100, 300x50\"),createAttribute(\"size-map-728x200\",\"600x100\"),createAttribute(\"size-map-1024x0\",\"600x300, 600x100\"),createAttribute(\"size-map-1400x1\",\"600x400, 600x300\"),createAttribute(\"size-map-1400x0\",\"600x400, 600x300\")],t=[createAttribute(\"size-map-1400x1\",\"600x400, 600x300\"),createAttribute(\"size-map-1400x0\",\"600x400, 600x300\"),createAttribute(\"size-map-1024x0\",\"600x300, 600x100\"),createAttribute(\"size-map-728x200\",\"600x100\"),createAttribute(\"size-map-0x0\",\"300x100, 300x50\")],n=[createAttribute(\"size-map-728x200\",\"600x100\"),createAttribute(\"size-map-1024x0\",\"600x300, 600x100\"),createAttribute(\"size-map-1400x0\",\"600x400, 600x300\"),createAttribute(\"size-map-0x0\",\"300x100, 300x50\"),createAttribute(\"size-map-1400x1\",\"600x400, 600x300\")],i=[createAttribute(\"size-map-728x200\",\"600x100\"),createAttribute(\"size-map-1400x0\",\"600x400, 600x300\"),createAttribute(\"size-map-0x0\",\"300x100, 300x50\"),createAttribute(\"size-map-1400x1\",\"600x400, 600x300\"),createAttribute(\"size-map-1024x0\",\"600x300, 600x100\")],o=[[[1400,1],[[600,400],[600,300]]],[[1400,0],[[600,400],[600,300]]],[[1024,0],[[600,300],[600,100]]],[[728,200],[[600,100]]],[[0,0],[[300,100],[300,50]]]];expect(parseAttributesIntoValidMapping(e)).to.deep.equal(o),expect(parseAttributesIntoValidMapping(t)).to.deep.equal(o),expect(parseAttributesIntoValidMapping(n)).to.deep.equal(o),expect(parseAttributesIntoValidMapping(i)).to.deep.equal(o)}),it(\"Empty mapping should be tolerated\",function(){var e=[];expect(parseAttributesIntoValidMapping(e)).to.deep.equal([[[0,0],[]]])}),it(\"Mapping with empty sizes is tolerated\",function(){var e=[createAttribute(\"size-map-0x0\",\"300x100, 300x50\"),createAttribute(\"size-map-1024x768\",\"600x300, 600x100\"),createAttribute(\"size-map-728x200\",\"\")];expect(parseAttributesIntoValidMapping(e)).to.deep.equal([[[1024,768],[[600,300],[600,100]]],[[728,200],[]],[[0,0],[[300,100],[300,50]]]])}),it(\"getEligibleSizesForResolution\",function(){var e=[],t=parseAttributesIntoValidMapping([createAttribute(\"size-map-0x0\",\"300x100, 300x50\"),createAttribute(\"size-map-1024x768\",\"600x300, 600x100\"),createAttribute(\"size-map-728x200\",\"\")]),n={x:1024,y:768},i={x:460,y:240},o={x:800,y:600};expect(getEligibleSizesForResolution(e,n)).to.deep.equal([]),expect(getEligibleSizesForResolution(t,n)).to.deep.equal([[600,300],[600,100]]),expect(getEligibleSizesForResolution(t,i)).to.deep.equal([[300,100],[300,50]]),expect(getEligibleSizesForResolution(t,o)).to.deep.equal([])}),it('\"fluid\" size should be supported',function(){var e=[createAttribute(\"size-map-0x0\",\"300x100, 300x50\"),createAttribute(\"size-map-1024x768\",\"600x300, 600x100, fluid\"),createAttribute(\"size-map-728x200\",\"\")];expect(parseAttributesIntoValidMapping(e)).to.deep.equal([[[1024,768],[[600,300],[600,100],\"fluid\"]],[[728,200],[]],[[0,0],[[300,100],[300,50]]]])})});var isEnabled$2=function(e){if(location.hash.indexOf(\"ads-do-not-use-openx\")>=0)return!1;var t=\"de\"===e||\"at\"===e||\"it\"===e||\"nl\"===e,n=location.hash.indexOf(\"ads-use-openx\")>=0;return t||n},getScriptUrl=function(e,t){var n={de:\"https://scout24-d.openx.net/w/1.0/jstag?nc=4467-autoscout\",at:\"https://scout24-d.openx.net/w/1.0/jstag?nc=4467-autoscout-at\",it:\"https://scout24-d.openx.net/w/1.0/jstag?nc=4467-autoscout-it\",nl:\"https://scout24-d.openx.net/w/1.0/jstag?nc=4467-autoscout-nl\",es:\"https://scout24-d.openx.net/w/1.0/jstag?nc=4467-autoscout-es\",fr:\"https://scout24-d.openx.net/w/1.0/jstag?nc=4467-autoscout-fr\",be:\"https://scout24-d.openx.net/w/1.0/jstag?nc=4467-autoscout-be-{lang}\",lu:\"https://scout24-d.openx.net/w/1.0/jstag?nc=4467-autoscout-lu\"};return(n[e]||n.de).replace(\"{lang}\",t)};describe(\"OpenX\",function(){it(\"isEnabled\",function(){expect(isEnabled$2(\"de\")).to.equal(!0),expect(isEnabled$2(\"at\")).to.equal(!0),expect(isEnabled$2(\"it\")).to.equal(!0)}),it(\"getScriptUrl\",function(){expect(getScriptUrl(\"de\")).to.equal(\"https://scout24-d.openx.net/w/1.0/jstag?nc=4467-autoscout\"),expect(getScriptUrl(\"be\",\"fr\")).to.equal(\"https://scout24-d.openx.net/w/1.0/jstag?nc=4467-autoscout-be-fr\")})});\n"],"file":"index.spec.js"}